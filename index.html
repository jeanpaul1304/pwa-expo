<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>I/O Extended - PWA & Workbox</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
            <div class="hashtag-io">
                #front.pe
            </div>
			<div class="slides">
				<section data-background-video="https://d3k5xyayaartr5.cloudfront.net/programming-ide/programming-ide.webm">
					<!--<h2>Progressive Web Apps & Workbox</h2>-->
					<!--<h3>Jade - Stylus - Coffeescript</h3>-->
					<h1>Progressive Web Apps & Workbox</h1>
                    <img class="square-box" src="img/front.pe.jpg" alt="logo Frontend Perú">
                    <!--<img class="square-box" src="https://www.gdgmelbourne.com/wp-content/uploads/2018/04/google_io_2018_extended_logo_stacked_rgb.png" width="30%" alt="logo gdg lima">-->
				</section>
				<!-- Init vision section -->
				<section>
					<section style="color:#fff;" data-background-image="https://cdn.dribbble.com/users/509505/screenshots/3208608/c3792c47242863.587596151a99e.gif">
						<h2 style="color:#fff;">My vision</h2>
						<p>Web Power vs Mobile apps</p>
						<i style="font-size:20px">Google Wave/Docs - iOS</i>
						<br>
						<i style="font-size:16px;">Why Jobs, Why!?</i>
					</section>
					<section>
						<h2>Web App</h2>
						<ul>
                            <li>Practicity/Availability</li>
							<li>Installation</li>
							<li>Storage Space</li>
						</ul>
					</section>
					<section>
						<h2>Give power to the web</h2>
                        <img style="border:0;box-shadow: 1px 1px 5px gray" src="https://media3.giphy.com/media/nZMK3dqPo3RSg/giphy.gif" alt="power stone">
                        <br>
                        <i style="font-size: 12px;">Yes, marvel fans, it's the infinity power stone</i>
					</section>
                    <section>
                        <img src="https://www.digitallearning.es/wp-content/uploads/2017/08/HTML5_sticker.png" alt="">
                    </section>
                    <section>
                        <h2>Technology</h2>
                        <img src="http://popel-studio.com/images/blog/what-is-html5/html5-illu.png" width="60%">
                    </section>
                </section>
<!-- End vision section -->
<!-- Init PWA section -->
<section>
  <section >
    <img src="https://tweakyourbiz.com/wp-content/uploads/2018/05/main-image-1024x688.png" style="background:none;border:0;box-shadow:none;">
  </section>
  <section>
    <h2>Installable - App Like</h2>
    <img src="https://cdn-images-1.medium.com/max/2000/1*7mUxFg5KuYdenGZHp23MtA.png" alt="">
  </section>
  <section>
    <img src="https://developers.google.com/web/progressive-web-apps/images/pwa-reliable.png" width="50%">
    <h2>Reliability</h2>
    <img src="https://cdn-images-1.medium.com/max/1600/1*pwtKc5DQjZFLmxVvA8IEfA.gif" alt="" width="40%">
  </section>
  <section>
    <h2>Faster</h2>
    <img src="https://developers.google.com/web/progressive-web-apps/images/pwa-fast.png" alt="">
  </section>
  <section>
    <h2>Engaging</h2>
    <img src="https://developers.google.com/web/fundamentals/app-install-banners/images/add-to-home-screen.gif" width="50%" alt="">
  </section>
</section>
<!-- End PWA section -->
<!-- Init Technology section -->
<section>
  <section>
    <h2>But, what we need to implement it?</h2>
    <ul>
			<li>Manifest</li>
			<li>Chrome Dev Tools</li>
			<li>Lighthouse</li>
			<li>Service Workers</li>
			<li>Workbox</li>
			<li>Cache API</li>
			<li>Web Storage API</li>
			<li>HTTPS</li>
    </ul>
  </section>
	<section>
		<h2>Manifest</h2>
		<img src="https://cdn-images-1.medium.com/max/1600/1*k07wulFO297SXn7EZ-Xaow.png">
	</section>
  <section>
    <h2>Chrome Dev Tools</h2>
    <img src="https://cdn-images-1.medium.com/max/620/1*AO_YIKlU_YHPydGBu2DH9w.jpeg" alt="">
  </section>
	<section>
		<h2>Web Cache/Storage API</h2>
		<img src="http://studyclues.com/wp-content/uploads/2016/05/HTML5-appCache.png" alt="">
	</section>
</section>
<!-- End Technoogy section -->
<!-- Init Service Worker section -->
<section>
	<section>
      <h2>Why Service Worker it's important?</h2>
      <!--<img src="https://blog.keycdn.com/blog/wp-content/uploads/2017/05/service-worker-diagram.png" alt="">-->
	</section>
	<section>
		<h2>What's a service worker?</h2>
		<img src="https://cdn-images-1.medium.com/max/2600/1*oOcY2Gn-LVt1h-e9xOv5oA.jpeg" alt="sw">
	</section>
  <section>
    <h2>Register SW</h2>
      <pre>
        <code data-trim data-noescape>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/sw.js').then(function(registration) {
      // Registration was successful
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }).catch(function(err) {
      // registration failed :(
      console.log('ServiceWorker registration failed: ', err);
    });
  });
}
        </code>
      </pre>
  </section>
    <section>
        <h2>Install SW</h2>
        <pre>
          <code>
var CACHE_NAME = 'my-site-cache-v1';
var urlsToCache = [
  '/',
  '/styles/main.css',
  '/script/main.js'
];

self.addEventListener('install', function(event) {
  // Perform install steps
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(function(cache) {
        console.log('Opened cache');
        return cache.addAll(urlsToCache);
      })
  );
});
          </code>
      </pre>
    </section>

    <section>
        <h2>Request and response from cache</h2>
        <pre>
          <code>
  self.addEventListener('fetch', function(event) {
  event.respondWith(
    caches.match(event.request)
      .then(function(response) {
        // Cache hit - return response
        if (response) {
          return response;
        }
        return fetch(event.request);
      }
    )
  );
});
          </code>
      </pre>
    </section>
    <section>
        <pre>
            <code>
self.addEventListener('fetch', function(event) {
  event.respondWith(
    caches.match(event.request)
      .then(function(response) {
        // Cache hit - return response
        if (response) {
          return response;
        }
        // IMPORTANT: Clone the request
        var fetchRequest = event.request.clone();
        return fetch(fetchRequest).then(
          function(response) {
            // Check if we received a valid response
            if(!response || response.status !== 200 || response.type !== 'basic') {
              return response;
            }
            // IMPORTANT: Clone the response. A response is a stream
            // and because we want the browser to consume the response
            // as well as the cache consuming the response, we need
            // to clone it so we have two streams.
            var responseToCache = response.clone();
            caches.open(CACHE_NAME)
              .then(function(cache) {
                cache.put(event.request, responseToCache);
              });
            return response;
          }
        );
      })
    );
});
            </code>
        </pre>
    </section>
  <section>
    <h3>And what happens if I wanna do something like this ...</h3>
    <img src="https://developers.google.com/web/tools/workbox/images/modules/workbox-strategies/stale-while-revalidate.png">
  </section>
</section>
<!-- End SW section -->
<!-- Init Workbox section -->
<section>
    <section>
        <img src="https://developers.google.com/web/tools/workbox/images/Workbox-Logo-Grey.svg" alt="">
    </section>
    <section>
        <pre>
            <code>
workbox.routing.registerRoute(
  /\.(?:js|css)$/,
  workbox.strategies.staleWhileRevalidate(),
)
            </code>
        </pre>
    </section>
    <section>
        <h2>Features</h2>
        <ul>
					<li>Pre-caching</li>
					<li>Expiration</li>
					<li>Strategies</li>
					<li>Recipes</li>
					<li>Background Sync</li>
        </ul>
    </section>
    <section>
        <h2>Strategies</h2>
    </section>
    <section>
        <h3>Cache-First</h3>
        <img src="https://developers.google.com/web/tools/workbox/images/modules/workbox-strategies/cache-first.png" alt="">
    </section>
    <section>
        <h3>Network-First</h3>
        <img src="https://developers.google.com/web/tools/workbox/images/modules/workbox-strategies/network-first.png" alt="">
    </section>
		<section>
			<h3>Stale-while-revalidate</h3>
			<img src="https://developers.google.com/web/tools/workbox/images/modules/workbox-strategies/stale-while-revalidate.png" alt="">
		</section>
    <section>
        <h3>Network-Only / Cache-Only</h3>
    </section>
</section>
<section>
    <section>
        <h2>Lighthouse</h2>
        <img src="https://www.speedboost.xyz/blog/wp-content/uploads/2018/06/chrome-lighthouse.png" alt="">
    </section>
    <section>
        <h2>Audit</h2>
        <img src="https://user-images.githubusercontent.com/316891/51218948-6e60ef00-18e3-11e9-8a48-535b59a41301.png">
    </section>
		<section>
			<h2>Google Web dev</h2>
			<img width="50%" src="https://web.dev/images/social.png" alt="">
		</section>
</section>
<section>
	<section>
		<h2>PWA Pros</h2>
		<ul>
			<li>Only have to build and maintain one app</li>
			<li>Uses the same technologies that web developers already use</li>
			<li>PWA are rapidly improving</li>
			<li>It’s based on maintaining the open web and uses standards-based technologies</li>
		</ul>
	</section>
	<section>
		<h2>PWA Cons</h2>
		<ul>
			<li>iOS not supported - WIP 12.0</li>
			<li>Uses the same technologies that web developers already use</li>
			<li>Doesn’t have a presence in the App Store</li>
			<li>It doesn’t support all OTT options like streaming devices</li>
		</ul>
	</section>
	<section>
		<h2>Exciting news</h2>
		<ul>
			<li>Google Play Store and Microsoft Store are open for PWA</li>
			<li>Google adds fingerprint support to Chrome</li>
			<li>Chrome is adding support to fingerprint auth</li>
		</ul>
		<br/>
		<img src="https://www.bram.us/wordpress/wp-content/uploads/2019/02/twa-pwa.png" style="margin-top:20px;" width="50%" alt="">
	</section>
</section>
<section style="color:#fff;" data-background-image="http://imagesmtv-a.akamaihd.net/uri/mgid:file:http:shared:mtv.com/news/wp-content/uploads/2014/08/Rf7gi14.gif">
	<h1 style="color:#fff;">Gracias!</h1>
	<h2 style="color:#fff;">Preguntas y comentarios</h2>
	<table style="background:rgba(0,0,0,.7);color: #fff;">
		<tr>
			<td>Github</td>
			<td>
					<a href="http://github.com/jeanpaul1304">http://github.com/jeanpaul1304</a>
			</td>
		</tr>
		<tr>
			<td>Diapositivas</td>
			<td>
				<a href="http://jeanpaul1304.github.io/gulpjs-expo">http://jeanpaul1304.github.io/pwa-expo</a>
			</td>
		</tr>
	</table>	
	<i>and as <a href="#">@jeanpaul1304</a> at all long the web...</i>
	<p>‪<a href="#">front.pe</a>‬‬</p>
</section>

	<!-- End Final section -->
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
